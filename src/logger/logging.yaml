version: 1
disable_existing_loggers: false

formatters:
  detailed:
    format: "[%(asctime)s] %(levelname)s %(name)s %(message)s"

handlers:
  console:
    class: logging.StreamHandler
    formatter: detailed
    stream: ext://sys.stdout

  kafka:
    class: logger.kafka_handler.KafkaLoggingHandler
    formatter: detailed
    topic: your_topic_name
    bootstrap_servers: localhost:9092

  clickhouse:
    class: logger.clickhouse_handler.ClickHouseLoggingHandler
    formatter: detailed
    host: clickhouse_host
    port: 9000
    database: logs_db
    table: logs

loggers:
  app:
    level: INFO
    handlers: [console, kafka, clickhouse]
    propagate: no

root:
  level: INFO
  handlers: [console]
